const preloader=document.getElementById("preloader"),preloaderProgressBar=document.getElementById("preloader-progress-bar");let progress=0;const interval=setInterval(()=>{(progress+=20*Math.random())>90&&(progress=90),preloaderProgressBar.style.width=progress+"%"},400);window.addEventListener("load",()=>{clearInterval(interval),preloaderProgressBar.style.width="100%",setTimeout(()=>{preloader.classList.add("hidden")},500)}),document.addEventListener("DOMContentLoaded",function(){AOS.init({duration:1e3,once:!0,offset:50});let e=document.getElementById("menu-button"),t=document.getElementById("sidebar"),s=document.getElementById("close-sidebar-button");e.addEventListener("click",()=>t.classList.toggle("active")),document.querySelectorAll(".nav-link, .right-column").forEach(e=>{e.addEventListener("click",()=>{t.classList.contains("active")&&t.classList.remove("active")})}),s.addEventListener("click",()=>{t.classList.remove("active")}),gsap.registerPlugin(ScrollTrigger),gsap.to("#timeline-progress",{height:"100%",ease:"none",scrollTrigger:{trigger:".right-column",start:"top top",end:"bottom bottom",scrub:!0}});let r=document.querySelectorAll(".section"),o=document.querySelectorAll(".timeline-item"),a=document.querySelector(".timeline");window.addEventListener("load",function e(){let t=a.offsetHeight,s=document.querySelector(".right-column").scrollHeight;r.forEach((e,r)=>{let a=o[r],l=e.offsetTop;a.style.top=`${l/s*t}px`,ScrollTrigger.create({trigger:e,start:"top center",end:"bottom center",onToggle(e){e.isActive?a.classList.add("active"):a.classList.remove("active")}})})});let l=document.querySelectorAll(".progress");l.forEach(e=>{gsap.fromTo(e,{width:0},{width:e.getAttribute("data-progress"),duration:3,ease:"power2.out",scrollTrigger:{trigger:e.closest(".skill-item"),start:"top 80%",toggleActions:"play none none none"}})}),new Swiper(".swiper-container",{loop:!0,pagination:{el:".swiper-pagination",clickable:!0},autoplay:{delay:3e3},effect:"cards",grabCursor:!0,centeredSlides:!0,slidesPerView:"auto",coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0}});let i=document.getElementById("theme-toggle"),n=document.getElementById("theme-toggle-icon"),d=document.body,c=document.querySelector(".logo-pic");i.addEventListener("click",()=>{d.classList.toggle("dark-mode"),d.classList.contains("dark-mode")?(localStorage.setItem("theme","dark"),n.classList.remove("fa-moon"),n.classList.add("fa-sun"),c.setAttribute("src","assets/images/logo-rs-2025.webp")):(localStorage.setItem("theme","light"),n.classList.remove("fa-sun"),n.classList.add("fa-moon"),c.setAttribute("src","assets/images/logo-rs-2025-dark.webp"))}),function e(){let t=localStorage.getItem("theme");"dark"===t?(d.classList.add("dark-mode"),n.classList.remove("fa-moon"),n.classList.add("fa-sun"),c.setAttribute("src","assets/images/logo-rs-2025.webp")):(d.classList.remove("dark-mode"),n.classList.remove("fa-sun"),n.classList.add("fa-moon"),c.setAttribute("src","assets/images/logo-rs-2025-dark.webp"))}()});